(function(t){function e(e){for(var a,r,s=e[0],c=e[1],l=e[2],d=0,f=[];d<s.length;d++)r=s[d],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&f.push(i[r][0]),i[r]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(f.length)f.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],a=!0,s=1;s<n.length;s++){var c=n[s];0!==i[c]&&(a=!1)}a&&(o.splice(e--,1),t=r(r.s=n[0]))}return t}var a={},i={app:0},o=[];function r(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=a,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(n,a,function(e){return t[e]}.bind(null,a));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/wzup-vue-test/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var u=c;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},"0a55":function(t,e,n){"use strict";var a=n("f7ce"),i=n.n(a);i.a},2956:function(t,e,n){"use strict";var a=n("51ff"),i=n.n(a);i.a},"2a96":function(t,e,n){"use strict";var a=n("c234"),i=n.n(a);i.a},3054:function(t,e,n){"use strict";var a=n("9b49"),i=n.n(a);i.a},"40fc":function(t,e,n){"use strict";var a=n("a0b6"),i=n.n(a);i.a},"51ff":function(t,e,n){},"5c0b":function(t,e,n){"use strict";var a=n("9c0c"),i=n.n(a);i.a},"8bb8":function(t,e,n){},"9b49":function(t,e,n){},"9c0c":function(t,e,n){},a0b6:function(t,e,n){},c234:function(t,e,n){},cd49:function(t,e,n){"use strict";n.r(e);var a={};n.r(a),n.d(a,"namespaced",(function(){return j})),n.d(a,"state",(function(){return k})),n.d(a,"mutations",(function(){return x})),n.d(a,"actions",(function(){return w}));n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("MainView")],1)},r=[],s=n("d4ec"),c=n("262e"),l=n("2caf"),u=n("9ab4"),d=n("60a3"),f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("form",{staticClass:"main__filter",on:{submit:function(e){return e.preventDefault(),t.filterInfo(e)}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.filterText,expression:"filterText"}],staticClass:"filter__input",attrs:{type:"text"},domProps:{value:t.filterText},on:{input:function(e){e.target.composing||(t.filterText=e.target.value)}}}),n("Button",{attrs:{type:"submit"}},[t._v("Найти")])],1),n("div",{staticClass:"main__tbl"},[n("Table",{attrs:{loading:t.loading},scopedSlots:t._u([{key:"heading",fn:function(){return[n("tr",t._l(t.headings,(function(e,a){return n("th",{key:a,staticClass:"tbl__heading",on:{click:function(n){return t.sortTable(e.type)}}},[t._v(" "+t._s(e.value)+" "),n("span",{staticClass:"tbl__sort",class:t.descSort?"desc-sort":"asc-sort"})])})),0)]},proxy:!0},{key:"data",fn:function(){return t._l(t.paginatedData,(function(e,a){return n("tr",{key:"row: "+a,on:{click:function(n){return t.showModal(e)}}},[n("td",{domProps:{innerHTML:t._s(e.fullname)}}),n("td",{domProps:{innerHTML:t._s(e.uname)}}),n("td",{domProps:{innerHTML:t._s(e.company)}}),n("td",{domProps:{innerHTML:t._s(e.email)}}),n("td",{domProps:{innerHTML:t._s(e.address.state)}})])}))},proxy:!0},{key:"pagination",fn:function(){return[n("div",{staticClass:"tbl__pagination"},[n("Pagination",{attrs:{currentPage:t.pagination.pageNumber,totalItems:t.info.length,pageSize:t.pagination.size},on:{pageChange:function(e){t.pagination.pageNumber=e}}})],1)]},proxy:!0}])})],1),t.btnState.visible?n("div",{staticClass:"main__btn"},[n("Button",{attrs:{primary:!0,loading:t.btnState.loading},on:{click:t.getInfo}},[t._v(" Показать пользователей ")])],1):t._e(),t.modal.show?n("modal",{on:{close:function(e){t.modal.show=!1}},scopedSlots:t._u([{key:"header",fn:function(){return[n("h3",[t._v("Инфа о юзере")])]},proxy:!0},{key:"body",fn:function(){return[n("div",[n("span",[t._v("Имя: "+t._s(t.modal.data.fullname))]),n("br"),n("span",[t._v("Адрес: "+t._s(t.modal.data.address.city)+", "+t._s(t.modal.data.address.state)+", "+t._s(t.modal.data.address.streetAddress)+", "+t._s(t.modal.data.address.zip)+" ")])])]},proxy:!0}],null,!1,1643971439)}):t._e()],1)},p=[],b=(n("4de4"),n("caad"),n("c975"),n("fb6a"),n("ac1f"),n("2532"),n("1276"),n("5530")),h=n("3835"),v=n("bee2"),g=n("2f62"),m=n("bc3a"),_=n.n(m),y=_.a.create({baseURL:"http://www.filltext.com",withCredentials:!1,headers:{Accept:"application/json","Content-Type":"application/json"},timeout:1e4}),O={getInfo:function(){var t="/?rows=1000&id={index}&fullname={firstName}~{lastName}&company={business}&email={email}&uname={username}&address={addressObject}";return y.get(t)}},j=!0,k={info:[],user:{}},x={SET_INFO:function(t,e){t.info=e},SET_USER:function(t,e){t.user=e}},w={fetchInfo:function(t){var e=t.commit;t.dispatch,t.state;return O.getInfo().then((function(t){e("SET_INFO",t.data)})).catch((function(t){console.log(t)}))}};i["a"].use(g["a"]);var C=new g["a"].Store({state:{},mutations:{},actions:{},modules:{table:a}}),P=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",t._g({staticClass:"btn",class:t.btnClass,attrs:{disabled:t.loading}},t.$listeners),[t.loading?[n("div",{staticClass:"loading-spinner"})]:[t._t("default")]],2)},S=[],T=function(t){Object(c["a"])(n,t);var e=Object(l["a"])(n);function n(){return Object(s["a"])(this,n),e.apply(this,arguments)}return Object(v["a"])(n,[{key:"btnClass",get:function(){var t="";return this.primary&&(t+="btn-primary"),t}}]),n}(d["c"]);Object(u["a"])([Object(d["b"])()],T.prototype,"primary",void 0),Object(u["a"])([Object(d["b"])()],T.prototype,"loading",void 0),T=Object(u["a"])([d["a"]],T);var M=T,E=M,I=(n("0a55"),n("2877")),$=Object(I["a"])(E,P,S,!1,null,"e258025e",null),L=$.exports,N=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("table",{staticStyle:{width:"100%"}},[t._t("heading"),t.loading?t._l(5,(function(t,e){return n("tr",{key:e},[n("td",[n("SkeletonBox")],1),n("td",[n("SkeletonBox")],1),n("td",[n("SkeletonBox")],1),n("td",[n("SkeletonBox")],1),n("td",[n("SkeletonBox")],1)])})):t._e(),t._t("data")],2),t._t("pagination")],2)},V=[],z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("span",{staticClass:"skeleton-box",style:{height:t.height,width:t.computedWidth}})])},B=[],H=function(t){Object(c["a"])(n,t);var e=Object(l["a"])(n);function n(){var t;return Object(s["a"])(this,n),t=e.apply(this,arguments),t.maxWidth=100,t.minWidth=100,t.height="1em",t.width=null,t}return Object(v["a"])(n,[{key:"computedWidth",get:function(){return this.width||"".concat(Math.floor(Math.random()*(this.maxWidth-this.minWidth)+this.minWidth),"%")}}]),n}(d["c"]);H=Object(u["a"])([d["a"]],H);var W=H,D=W,A=(n("2956"),Object(I["a"])(D,z,B,!1,null,"0b0b7947",null)),R=A.exports,F=function(t){Object(c["a"])(n,t);var e=Object(l["a"])(n);function n(){return Object(s["a"])(this,n),e.apply(this,arguments)}return n}(d["c"]);Object(u["a"])([Object(d["b"])()],F.prototype,"loading",void 0),F=Object(u["a"])([Object(d["a"])({components:{SkeletonBox:R}})],F);var J=F,U=J,q=(n("2a96"),Object(I["a"])(U,N,V,!1,null,"6203c2a0",null)),G=q.exports,K=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{staticClass:"pagination",on:{submit:function(e){return e.preventDefault(),t.handleSubmit(e)}}},[n("button",{staticClass:"button prev",attrs:{type:"button","aria-label":"Previous",disabled:t.currentPage<=1},on:{click:t.prevPage}},[n("i",{staticClass:"icon"},[n("svg",{attrs:{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M17 5.88L15.29 4 8 12l7.29 8L17 18.12 11.44 12z",fillRule:"evenodd"}})])])]),n("span",{staticClass:"text pageText"},[t._v("Page:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.inputVal,expression:"inputVal"}],ref:"pageInput",staticClass:"input",attrs:{type:"number"},domProps:{value:t.inputVal},on:{input:function(e){e.target.composing||(t.inputVal=e.target.value)}}}),n("span",{staticClass:"text"},[t._v("of "+t._s(t.totalPages))]),n("button",{staticClass:"button next",attrs:{type:"button","aria-label":"Next",disabled:t.currentPage>=t.totalPages},on:{click:t.nextPage}},[n("i",{staticClass:"icon"},[n("svg",{attrs:{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M8 5.88L9.71 4 17 12l-7.29 8L8 18.12 13.56 12z",fillRule:"evenodd"}})])])])])},Q=[],X=(n("d3b7"),n("25f0"),function(t){Object(c["a"])(n,t);var e=Object(l["a"])(n);function n(){var t;return Object(s["a"])(this,n),t=e.apply(this,arguments),t.inputVal="0",t}return Object(v["a"])(n,[{key:"prevPage",value:function(){console.log("clicked prev"),this.currentPage>1&&this.$emit("pageChange",this.currentPage-1),this.inputVal=(this.currentPage-1).toString()}},{key:"nextPage",value:function(){console.log("clicked next"),this.currentPage<this.totalPages&&this.$emit("pageChange",this.currentPage+1),this.inputVal=(this.currentPage+1).toString()}},{key:"handleSubmit",value:function(){console.log("handle submit");var t=parseInt(this.inputVal,10);t<1&&(t=1),t>this.totalPages&&(t=this.totalPages),this.$emit("pageChange",t),this.inputVal=t.toString(),this.$refs.pageInput.blur()}},{key:"totalPages",get:function(){return 1===this.currentPage&&(this.inputVal="1"),Math.ceil(this.totalItems/this.pageSize)}}]),n}(d["c"]));Object(u["a"])([Object(d["b"])()],X.prototype,"currentPage",void 0),Object(u["a"])([Object(d["b"])()],X.prototype,"totalItems",void 0),Object(u["a"])([Object(d["b"])()],X.prototype,"pageSize",void 0),X=Object(u["a"])([d["a"]],X);var Y=X,Z=Y,tt=(n("3054"),Object(I["a"])(Z,K,Q,!1,null,"52a2936a",null)),et=tt.exports,nt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"modal"}},[n("div",{staticClass:"modal__mask"},[n("div",{staticClass:"modal__wrapper"},[n("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.handleOutsideClick,expression:"handleOutsideClick"}],staticClass:"modal__container"},[n("div",{staticClass:"modal__close",on:{click:function(e){return t.$emit("close")}}},[t._v("x")]),n("div",{staticClass:"modal__header"},[t._t("header",[t._v(" default header ")])],2),n("div",{staticClass:"modal__body"},[t._t("body",[t._v(" default body ")])],2),n("div",{staticClass:"modal__footer"},[t._t("footer")],2)])])])])},at=[],it=function(t){Object(c["a"])(n,t);var e=Object(l["a"])(n);function n(){var t;return Object(s["a"])(this,n),t=e.apply(this,arguments),t.clickCounter=0,t}return Object(v["a"])(n,[{key:"handleOutsideClick",value:function(){console.log("clicked outside"),this.clickCounter>0&&(this.$emit("close"),this.clickCounter=0),this.clickCounter++}},{key:"escapeHandler",value:function(t){"Escape"===t.key&&this.$emit("close")}},{key:"created",value:function(){document.addEventListener("keydown",this.escapeHandler)}},{key:"beforeDestroy",value:function(){document.removeEventListener("keydown",this.escapeHandler)}}]),n}(d["c"]);it=Object(u["a"])([d["a"]],it);var ot=it,rt=ot,st=(n("40fc"),Object(I["a"])(rt,nt,at,!1,null,"110a69b6",null)),ct=st.exports,lt={heading:[{value:"фамилия и имя",type:"fullname"},{value:"юзернейм",type:"uname"},{value:"компания",type:"company"},{value:"почта",type:"email"},{value:"штат",type:"address?state"}]},ut=function(t){Object(c["a"])(n,t);var e=Object(l["a"])(n);function n(){var t;return Object(s["a"])(this,n),t=e.apply(this,arguments),t.loading=!0,t.btnState={loading:!1,visible:!0},t.pagination={size:10,pageNumber:0},t.info=[],t.modal={data:{},show:!1},t.filterText="",t.sorting=!0,t}return Object(v["a"])(n,[{key:"filterInfo",value:function(){var t=this;console.log("filter info",this.filterText),this.filterText&&0!==this.info.length?this.info=this.info.filter((function(e){return e.fullname.indexOf(t.filterText)>-1||e.uname.indexOf(t.filterText)>-1||e.company.indexOf(t.filterText)>-1||e.email.indexOf(t.filterText)>-1||e.address.state.indexOf(t.filterText)>-1})):this.info=this.table.info}},{key:"sortTable",value:function(t){if(t.includes("?")){var e=t.split("?"),n=Object(h["a"])(e,2),a=n[0],i=n[1];this.hackAddrStateSort(a,i)}else this.sorting?this.info.sort((function(e,n){return e[t]>n[t]?1:e[t]<n[t]?-1:0})):this.info.sort((function(e,n){return e[t]>n[t]?-1:e[t]<n[t]?1:0})),this.sorting=!this.sorting}},{key:"hackAddrStateSort",value:function(t,e){this.sorting?this.info.sort((function(n,a){return n[t][e]>a[t][e]?1:n[t][e]<a[t][e]?-1:0})):this.info.sort((function(n,a){return n[t][e]>a[t][e]?-1:n[t][e]<a[t][e]?1:0})),this.sorting=!this.sorting}},{key:"getInfo",value:function(){var t=this;this.btnState.loading=!0,C.dispatch("table/fetchInfo").then((function(){t.loading=!1,t.btnState={loading:!1,visible:!1},t.pagination.pageNumber=1,t.info=t.table.info,console.log("fetched")}))}},{key:"showModal",value:function(t){this.modal={data:t,show:!0}}},{key:"headings",get:function(){return lt.heading}},{key:"descSort",get:function(){return this.sorting}},{key:"paginatedData",get:function(){var t=(this.pagination.pageNumber-1)*this.pagination.size,e=t+this.pagination.size;return this.info.slice(t,e)}}]),n}(d["c"]);ut=Object(u["a"])([Object(d["a"])({components:{Button:L,Table:G,Pagination:et,Modal:ct},computed:Object(b["a"])({},Object(g["b"])(["table"]))})],ut);var dt=ut,ft=dt,pt=(n("eac9"),Object(I["a"])(ft,f,p,!1,null,"1c222b6c",null)),bt=pt.exports,ht=function(t){Object(c["a"])(n,t);var e=Object(l["a"])(n);function n(){return Object(s["a"])(this,n),e.apply(this,arguments)}return n}(d["c"]);ht=Object(u["a"])([Object(d["a"])({components:{MainView:bt}})],ht);var vt=ht,gt=vt,mt=(n("5c0b"),Object(I["a"])(gt,o,r,!1,null,null,null)),_t=mt.exports,yt=(n("b0c0"),{bind:function(t,e,n){if("function"!==typeof e.value){var a=n.context.name,i="[Vue-click-outside:] provided expression '".concat(e.expression,"' is not a function, but has to be");a&&(i+="Found in component '".concat(a,"'")),console.warn(i)}var o=e.modifiers.bubble,r=function(n){(o||!t.contains(n.target)&&t!==n.target)&&e.value(n)};t.__vueClickOutside__=r,document.addEventListener("click",r)},unbind:function(t,e){document.removeEventListener("click",t.__vueClickOutside__),t.__vueClickOutside__=null}}),Ot=yt;i["a"].config.productionTip=!1,i["a"].directive("click-outside",Ot),new i["a"]({store:C,render:function(t){return t(_t)}}).$mount("#app")},eac9:function(t,e,n){"use strict";var a=n("8bb8"),i=n.n(a);i.a},f7ce:function(t,e,n){}});
//# sourceMappingURL=app.b2a038c1.js.map